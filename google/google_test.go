package google

import (
	"testing"

	"github.com/stretchr/testify/assert"
	"github.com/thaitanloi365/go-social-auth/utils"
)

func TestLoginGoogle(t *testing.T) {
	var token = "eyJhbGciOiJSUzI1NiIsImtpZCI6IjExMmU0YjUyYWI4MzMwMTdkMzg1Y2UwZDBiNGM2MDU4N2VkMjU4NDIiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJhY2NvdW50cy5nb29nbGUuY29tIiwiYXpwIjoiNDk1MzU4Nzc1MTY3LTB2M210dGlpZjcxcWVsaTlsYmQwYW0xYTNoM241N29zLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwiYXVkIjoiNDk1MzU4Nzc1MTY3LTB2M210dGlpZjcxcWVsaTlsYmQwYW0xYTNoM241N29zLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwic3ViIjoiMTA3NzU1OTE1MTU2MDkwMDM5NjA3IiwiZW1haWwiOiJ0aGFpdGFubG9pMzY1QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJhdF9oYXNoIjoiUGc3MVExQlk4SVhTbzNlS1BlVjdVZyIsIm5hbWUiOiJ04bqlbiBs4bujaSB0aMOhaSIsInBpY3R1cmUiOiJodHRwczovL2xoMy5nb29nbGV1c2VyY29udGVudC5jb20vYS0vQU9oMTRHaUFxS1lBaHhLQnhTQ0lYT2NJbkJvMDNJdkVtNG03V09uVDQxV0I4QT1zOTYtYyIsImdpdmVuX25hbWUiOiJ04bqlbiBs4bujaSIsImZhbWlseV9uYW1lIjoidGjDoWkiLCJsb2NhbGUiOiJ2aSIsImlhdCI6MTYyNDcyNTY5MiwiZXhwIjoxNjI0NzI5MjkyLCJqdGkiOiI3OWVlOGM3YzRiN2RmMDc2MTJhM2IxMGZkN2RlNzc1NDk4NmQ3M2IwIn0.NmBqBEvybQtoUWwtRw0X29iYOsbqvuO5uC18CJERXsWhKpHSce5Thw52SnKkH31gYM3zN7v8IVgZVodGg-JdwYEi92O9djiQCWy5-AEZXQMi9SCM1NdrcZ4kdEWZ5MpA-b8RYFRQG3H5wBv1b3Mbo6hweb0V5nT9MIkoMpsEfXrbgziJpvLgsM_t_JJ1ZXqwMpbL6OOP5isp4okVakePBLOdZsCKgJyuHli3wMNZDdUSyTpg--ZQkRwoM8Ch3fdaPl6F9EeK5Dj5upaHljuyVA00tqJ1yNBO-4V6qg38NpEa0vW2ZlPdl33XZF_qIP0etqsU9JyqAN9EuzjgmY3ksA"
	var googleauth = New().WithIssuer("").WithAudience("").WithExpiry(true)
	result, err := googleauth.Login(token)

	assert.NoError(t, err)

	utils.PrintJSON(result)
}
